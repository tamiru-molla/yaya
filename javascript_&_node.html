<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Document</title>
</head>

<body>

 <xmp style="font-size: larger;">

=> Object property shorthand 
   const name="mike"
   const url="https://.."
   const ageOut=12;

   const x= {name:name, url:url,age:ageOut}
   # shorthand -> product ={name,url,age:ageOut}
    
  => obj destructuring
    const Objname = product.name  // how we acces each obj property
   # using obj destructuring 
       # const {name,url,age} = product
       # const objName = name;
       # const {name:newName,url,age,start=5} = product // start is default
       # const objName = newName; 
            -  posible to change property name during destructuring obj 
            -  assign default value also posible
       - if fuction has callback as argument 
        geocode ("etrhiopia",(err,{coordinate})=>{ 
           // assigning default value to destructured obj
              -> geocode ("etrhiopia",(err,{coordinate}={})=>{
          - wizout destructuring we have to call
            - response.coordinate
          - with destructuring
            - just coordinate

          
        })








  web server
  - modules needed - express
                    - hbs // handlbars
                    - path // core modules
   -our project have the ff structure
     .src/ 
       - app.js
     .public/  // static directory to serve 
       - style/styles.css 
       - script/scripts.css
     .templates/ 
        - views/  // response to request using end point
            # index.hbs
            # about.hbs  ..// templates for each html pages 
            # 404.hbs         - render by hbs engine
               
        - partials/   // page components appear in all pages
            # header.hbs 
            # footer.hbs
            # sidebars
   1) import all packages;
    
   2) define paths for express 
    
    # const publicDirPath = path.join(__dirname,"../public")
    # const partialDirPath = path.join(__dirname,"../templates/partials")
    # const viewsDirPath = path.join(__dirname,"../templates/views")

   4) setup static directry to serve
    
   # app.use(express.static(publicDirPath))

   5) setup handlebar engine and views locations
    
    # app.set("views engine","hbs")
    # app.set("views",viewsDirPath)
    # hbs.registerPartials(partialDirPath);

   6)  response for requests
    
    # app.get("endPoints",(req,res)=>{   // endPoint='/', '/about'
     
     res.send(string | Json ...)
     res.render("target_template", { json passed to templates})
           target_template -> 'index.html', 'about.hbs',
           json -> {title:'Home' | title:'About', name: 'mike'}
    })
   
   7) response for error
        - endPoint = "*" -- any  unmatched endpoint
        - endPoint = "/help/*" -- any unmatched endpoint preceding with /help

   8) start server
       # apt.listen(3000,()=>{log("server- started")})


- calling partials in a pages
   <body>
     {{>header}}
   </body> 
   @ header partials
    we can access json object forward by res.render 
       -<h1>{{title}}</h1>
  

MONGODB 
 1- download mongodb 
      - extract it in user/tam/mongodb folder 
 2) - create storage folder user/tam/mongodb-data 
 3) - livein up  the db 
    - user/tam/mongodb/bin/mongodb.exe --dbpath=user/tam/mongodb-data
 4)  install --> robo-3T
        - mongodb admin GUI tool
    - connect tool with our db using 
        IP= 127.0.0.1
        port = 27017
        name = any name // Local Mongodb database

    - check connection by by # db.version() on shell
 5) install mongodb packge in our nodejs project
 6) connect our node.js and Mongodb 
    
    const  mongodb = require("mongodb")
    const  MongoClient = mongodb.MongoClient
    const  connectionUrl = "mongodb://127.0.0.1:27017"
    const  databaseName = "database-one"  // same name will be created in mongodb-data
    MongoClient.connect(connectionUrl       // url to our localdb
                       ,{useNewUrlParser:true}  // set parser
                       ,(error,client)=>{
                       if(erroe) return "connection failed"
      # create database reference 
       const db = client.db(databaseName)  
       
      # creat collection and insert data 
       db.collection("user").insertOne({jsonUserDataToBeInserted})
                       })   // callback for our connection


  Mongodb data structure
   #Collection 
      - we will have a Collection for each kind of  related datas
      - Collection for user, products, favorites -- like table in SQL
   #- document  -- 
      - each entry data into the collection 
      - like row of table in SQL
   #- fields 
      - individeul  data stored in field 
      - column in table 

 

















  </xmp> 
  
</body>
</html>
